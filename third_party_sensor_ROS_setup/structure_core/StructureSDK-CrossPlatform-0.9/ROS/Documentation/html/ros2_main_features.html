<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structure Core ROS driver: Main Features (ROS2)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structure Core ROS driver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ros2_main_features.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Main Features (ROS2) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="published2_topics"></a>
1) Published Topics</h1>
<p>The following topics are available in Structure Core ROS Driver:</p>
<ul>
<li><b>sc/rgb/image</b>: RGB image if color Structure Core is used and grayscale image if monochrome Structure Core is used.</li>
<li><b>sc/rgb/camera_info</b>: color intrinsics for the curren frame.</li>
<li><b>sc/depth/image</b>: depth image(float depth values in meteres).</li>
<li><b>sc/depth/camera_info</b>: depth intrinsics for the current frame.</li>
<li><b>sc/color_to_depth_tf</b>: transformation matrix to bring a Structure Core visible (monochrome/RGB) camera frame into the depth frame of reference.</li>
<li><b>sc/infrared_left/image</b>: left infrared image(16bit data).</li>
<li><b>sc/infrared_left/camera_info</b>: left infrared intrinsics for the current frame.</li>
<li><b>sc/infrared_right/image</b>: right infrared image(16bit data).</li>
<li><b>sc/infrared_left/camera_info</b>: right infrared intrinsics for the current frame.</li>
<li><b>sc/rgbd/points</b>: rgb-d pointcloud.</li>
<li><b>sc/imu/imu_msg</b>: 3-axis accelerometer data(meters per second) and 3-axis (Euler angles) gyroscope data(radians per second).</li>
</ul>
<p>The list of topics during program execution can be listed using the following command:</p>
<div class="fragment"><div class="line">rostopic list</div></div><!-- fragment --><h1><a class="anchor" id="sc_static_params2"></a>
2) Structure Core Static Parameters</h1>
<p>Static and dynamic parameters can be modified before launch of the driver in <b>cfg/sc_config.yaml</b>.</p>
<p>The following static parameters are available:</p>
<ul>
<li><b>visible_enable</b>: set to true to enable visible streaming.</li>
<li><b>visible_apply_gamma_correction</b>: set to true to apply gamma correction to incoming visible frames.</li>
<li><b>visible_framerate</b>: the target framerate for the visible camera. The default value is 30.</li>
<li><b>visible_resolution</b>: the target resolution for streamed visible frames. The default value is 640x480.</li>
<li><b>infrared_enable</b>: set to true to enable infrared streaming.</li>
<li><b>infrared_framerate</b>: the target framerate for the infrared camera. The default value is 30.</li>
<li><b>infrared_mode</b>: specifies how to stream the infrared frames. The default value is BothCameras. Other options: LeftCameraOnly, RightCameraOnly.</li>
<li><b>infrared_resolution</b>: the target resolution for streamed depth frames. The default value is 1280x960.</li>
<li><b>infrared_disable_intensity_balance</b>: setting this to true will eliminate saturation issues, but might result in sparser depth.</li>
<li><b>imu_enable</b>: set to true to enable accelerometer and gyroscope streaming.</li>
<li><b>imu_update_rate</b>: the target stream rate for IMU data. The default value is AccelAndGyro_800Hz. Other options: AccelAndGyro_100Hz, AccelAndGyro_200Hz, AccelAndGyro_1000Hz.</li>
<li><b>depth_enable</b>: set to true to enable depth streaming.</li>
<li><b>depth_framerate</b>: the target framerate for the depth sensor. The default value is 30.</li>
<li><b>depth_resolution</b>: the target resolution for streamed depth frames. The default value is 640x480(VGA). Other options: 320x240(QVGA), 1280x960(SXGA).</li>
<li><b>depth_apply_correction_before_stream</b>: set to true to apply a correction and clean filter to the depth before streaming, such that depth frames received from the driver are post-processed before arrival.</li>
<li><b>demosaic_method</b>: the demosaicking method to use for color-enabled Structure Core visible frames. Will do nothing for monochrome visible frames. The default value is EdgeAware. Other options: Bilinear.</li>
<li><b>initial_projector_power</b>: laser projector power setting from 0.0 to 1.0 inclusive. Projector will only activate if required by streaming configuration. The default value is 1.0.</li>
<li><b>latency_reducer_enabled</b>: setting this to true will reduce latency, but might drop more frame.</li>
<li><b>sensor_initialization_timeout</b>: maximum amount of time (in milliseconds) to wait for a sensor to connect before throwing a timeout error. The default value is 6000.</li>
<li><b>sensor_serial</b>: serial number of sensor to stream. If null, the first connected sensor will be used. The default value is null.</li>
<li><b>frame_sync_enabled</b>: set to true to enable frame synchronization between visible or color and depth.</li>
<li><b>low_latency_imu</b>: set to true to deliver IMU events on a separate, dedicated background thread.</li>
<li><b>rgbd_enable</b>: set to true to enable rgb-d streaming.</li>
</ul>
<h1><a class="anchor" id="sc_dynamic_params2"></a>
3) Structure Core Dynamic Parameters</h1>
<p>The following parameters are dynamic and can be changed during program execution without Structure Core ROS driver restart:</p>
<ul>
<li><b>visible_initial_gain</b>: the visible gain to start streaming with. Can be any number between 1 and 8. The default value is 2.0.</li>
<li><b>visible_initial_exposure</b>: the initial visible exposure to start streaming with (milliseconds, but set in seconds). Can be any number between 0 and 0.03. The default value is 0.016.</li>
<li><b>infrared_auto_exposure_enabled</b>: enable auto-exposure for infrared frames.</li>
<li><b>infrared_initial_exposure</b>: The initial infrared exposure to start streaming with. Can be any number between 0 and 0.03. The default value is 0.0146.</li>
<li><b>infrared_initial_gain</b>: the initial infrared gain to start streaming with. Can be 0, 1, 2, or 3. The default value is 3.</li>
<li><b>depth_apply_correction</b>: applies a correction and clean filter to the depth on-the-fly, modifying the current object in place. Note that if <b>depth_apply_correction_before_stream</b> is true, this setting does nothing, as the correction has already been applied in the driver before frame arrival.</li>
<li><b>depth_range_mode</b>: the depth range mode for streamed depth frames. Modifies the min/max range of the depth values. The default value is Short(0.41m to 1.36m). Other options: VeryShort(0.35m to 0.92m), Medium(0.52m to 5.23m), Long(0.58m to 8.0m), VeryLong(0.58m to 10.0m), Hybrid(0.35m to 10.0m), BodyScanning(Specific configuration for scanning human bodies).</li>
<li><b>dynamic_calibration_mode</b>: the dynamic calibration mode to use during depth streaming. The default value is Off. Other options: OneShotPersistent(a single dynamic calibration cycle is performed when depth streaming starts), ContinuousNonPersistent(dynamic calibration is performed continuously as the sensor streams depth data). </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
